---
// BlogPostCard.astro - ブログ記事カード用の共通コンポーネント
import type { CollectionEntry } from 'astro:content';
import { formatDate } from '../utils/date';

interface Props {
  post: CollectionEntry<'posts'>;
  showTags?: boolean;
  maxTags?: number;
  locale?: string;
}

const { post, showTags = true, maxTags = 3, locale = 'en-US' } = Astro.props;
---

<article class="card-hover bg-white/5 rounded-lg p-6 border border-transparent">
  <a href={`/blog/${post.slug}`} class="block">
    <div class="flex flex-wrap items-center gap-4 text-sm text-white/60 mb-3">
      <time datetime={post.data.date.toISOString()}>
        {formatDate(post.data.date, locale)}
      </time>
      {showTags && post.data.tags.length > 0 && (
        <>
          <span aria-hidden="true">•</span>
          <div class="flex gap-2">
            {post.data.tags.slice(0, maxTags).map((tag: string) => (
              <span class="text-nightwalk-orange">#{tag}</span>
            ))}
          </div>
        </>
      )}
    </div>
    <h2 class="text-xl font-bold text-white mb-2 hover:text-nightwalk-orange transition-colors">
      {post.data.title}
    </h2>
    <p class="text-white/70">{post.data.description}</p>
  </a>
</article>
